<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Resgister for opportunity">2351c6addba090105489295748961947</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"c75f1cf6068b48519a3227d547b17979","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"c75f1cf6068b48519a3227d547b17979"}],"goals":[{"name":"primary","trigger_id":"c75f1cf6068b48519a3227d547b17979","nodes":[{"type":"StartGoal","goal_id":"dc4217c41adf48978b8ed425feb732ae","greeting_msg":{"type":"String","mode":"string","value":""},"id":"5174c4b5d58f474cb697a3969431a27f","name":"Start"},{"type":"TerminateGoal","goal_id":"dc4217c41adf48978b8ed425feb732ae","confirmation_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"You are registered. You will receive a notification soon with details.\", vaContext.getRequesterLang())"},"id":"8f71e2e71c3743cc8da218a881ec9086","name":"End"},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"4f55be1cf5834fada129b4101f531c81","name":"Select Phil","goal_id":"dc4217c41adf48978b8ed425feb732ae","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"42fd5124fd474590a54985f4602f2a26","message":{"type":"String","mode":"string","value":"Select Phil"},"acknowledgement":{"type":"String","mode":"string","value":"great"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute() {\n    /* Code your script logic here. For example, you might want to call an external web service\n       to find the beet local Italian restaurants.  Call a Restaurants Web Service then use the results\n       to populate an options array.\n       \n        var options = [];    \n        options.push({ 'value': 'best_italian_1', 'label': gs.getMessage('Best Italian Restaurant Ever') });\n        options.push({ 'value': 'best_italian_2', 'label': gs.getMessage('Even Better Italian Restaurant') });\n        return options;\n    */\n\n    var options = new PhilUtil().buildregisterOption(vaInputs.user);\n    return options;    \n})()\n","no_options_found_message":{"type":"String","mode":"string","value":"No open opportunities yet. Please come back later."},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    /* Code your script logic here. For example, you might want to call an external web service\n       to find the beet local Italian restaurants.  Call a Restaurants Web Service then use the results\n       to populate an options array.\n       \n        var options = [];    \n        options.push({ 'value': 'best_italian_1', 'label': gs.getMessage('Best Italian Restaurant Ever') });\n        options.push({ 'value': 'best_italian_2', 'label': gs.getMessage('Even Better Italian Restaurant') });\n        return options;\n    */\n\n    var options = new PhilUtil().buildregisterOption(vaInputs.user);\n    return options;    \n})()\n"}},{"type":"CRUDAction","mode":"read","read_mode":"variable","query":"sys_id={{vaInputs.select_phil}}","variable_id":"a68ea51fef3549e69906871971d4151e","id":"df01249ecae84035b42c87c44a7e6bfd","name":"Look Up phil in the table","goal_id":"dc4217c41adf48978b8ed425feb732ae","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":"sys_id={{vaInputs.select_phil}}"}},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    var watch_list;\n    var gr = new GlideRecord('x_snc_econow_philanthrophy');\n    gr.addQuery('sys_id',vaInputs.look_up_phil_in_the_table.getValue());\n    gr.query();\n    if(gr.next())\n    {\n        gs.info('16 hi there-'+vaInputs.look_up_phil_in_the_table.getValue() + '   '+ vaInputs.user.getDisplayValue());\n        watch_list = gr.watch_list.toString().split(\",\");\n        watch_list.push(gs.getUserID());\n        gr.watch_list = watch_list.join(\",\").toString();\n        gr.update();\n    }\n\n})()\n","id":"a94971d5650e41de979988b00735e92f","name":"Update Phil via script","goal_id":"dc4217c41adf48978b8ed425feb732ae","applicability":{"type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"df01249ecae84035b42c87c44a7e6bfd","target_node_id":"a94971d5650e41de979988b00735e92f","id":"ca486cc3129248da9b63a561652ada3a"},{"type":"Edge","source_node_id":"5174c4b5d58f474cb697a3969431a27f","target_node_id":"4f55be1cf5834fada129b4101f531c81","id":"6b02e2d91b45418588852b0228c9354c"},{"type":"Edge","source_node_id":"4f55be1cf5834fada129b4101f531c81","target_node_id":"df01249ecae84035b42c87c44a7e6bfd","id":"160e9148cc024142a08d5f0c06c93b46"},{"type":"Edge","source_node_id":"a94971d5650e41de979988b00735e92f","target_node_id":"8f71e2e71c3743cc8da218a881ec9086","id":"702f00aa83f74896b37a7d8c646843ea"}],"id":"dc4217c41adf48978b8ed425feb732ae"}],"script_variables":[],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Choice","choices":[],"id":"42fd5124fd474590a54985f4602f2a26","name":"select_phil","table":""},{"type":"Reference","table":"x_snc_econow_philanthrophy","id":"a68ea51fef3549e69906871971d4151e","name":"look_up_phil_in_the_table"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"1cc25741db2050105489295748961900","domain":"global","id":"a59cbda9dba090105489295748961918","name":"Resgister for opportunity","key_phrases":["Resgister for opportunity","register opportunity","register philanthropy","add me to initiative","add me philanthropy"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"640c782ddbec5010548929574896194e","library":false}</design_definition>
        <design_topic_id>a59cbda9dba090105489295748961918</design_topic_id>
        <name>Resgister for opportunity</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>arnav</sys_created_by>
        <sys_created_on>2020-05-03 04:57:07</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>7f51c6addba09010548929574896194a</sys_id>
        <sys_mod_count>6</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="EcoNow" source="x_snc_econow">1cc25741db2050105489295748961900</sys_package>
        <sys_policy/>
        <sys_scope display_value="EcoNow">1cc25741db2050105489295748961900</sys_scope>
        <sys_update_name>sys_cb_design_topic_7f51c6addba09010548929574896194a</sys_update_name>
        <sys_updated_by>arnav</sys_updated_by>
        <sys_updated_on>2020-05-03 16:23:55</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
